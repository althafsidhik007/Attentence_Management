<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Student Dashboard</title>
<link rel="stylesheet" href="style.css" />
<link rel="icon" href="images/favicon.png" type="image/png" />
</head>
<body>
<header>
  <div class="logo"><img src="images/logo.png" alt="College Logo" /></div>
  <div class="login-btn"><button onclick="logout()">Logout</button></div>
</header>

<section class="student-hero">
  <div class="student-info" id="studentInfo"></div>
  <div class="attendance-info" id="attendanceInfo"></div>
</section>

<section class="student-actions">
  <button onclick="toggleView()">View All Students</button>
</section>

<section id="studentList" class="hidden">
  <button class="close-btn" onclick="toggleView()">âœ– Close</button>
  <h2>All Students</h2>
  <table id="studentTable"></table>
</section>

<footer>
  <p><strong>NAS College of Frames</strong></p>
  <p>Madrid Kavala, Spain Mukk | +99 36901 77362 | nascollege@frames.com</p>
</footer>

<script src="script.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const students = JSON.parse(localStorage.getItem('students'));
  const currentId = parseInt(localStorage.getItem('currentStudentId'));
  const student = students.find(s => s.id === currentId) || students[0];

  document.getElementById('studentInfo').innerHTML = `
    <h2>Name: ${student.name}</h2>
    <p>ID: ${student.id}</p>
    <p>Gender: ${student.gender}</p>
  `;

  const percent = student.total ? ((student.attended / student.total) * 100).toFixed(1) : 0;
  document.getElementById('attendanceInfo').innerHTML = `
    <h2>Attendance</h2>
    <p class="percent">${percent}%</p>
    <p>Attended: ${student.attended} / ${student.total}</p>
  `;
});
</script>
</body>
</html>
